{"version":3,"sources":["webpack:///./node_modules/_moment@2.24.0@moment/locale sync ^\\.\\/.*$","webpack:///./client/redux/actionTypes.js","webpack:///./client/api/api.js","webpack:///./client/api/apiHost.js","webpack:///./client/api/modules/userApi.js","webpack:///./client/api/modules/courseApi.js","webpack:///./client/redux/actions.js","webpack:///./client/utils/common.js","webpack:///./client/src/broadcast/login/index.js","webpack:///./client/components/page/broadcast/course/SmallCaleandar.js","webpack:///./client/components/page/broadcast/course/Sidebar.js","webpack:///./client/components/page/broadcast/course/Dialog.js","webpack:///./client/components/page/broadcast/course/CourseList.js","webpack:///./client/src/broadcast/course/index.js","webpack:///./client/routes/config.js","webpack:///./client/route.js","webpack:///./client/redux/reducer/course.js","webpack:///./client/redux/reducer/login.js","webpack:///./client/redux/reducer/index.js","webpack:///./client/src/App.js","webpack:///./client/redux/store.js","webpack:///./client/main.js"],"names":["map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","LOGIN","SEND_COURSE_DETAIL","SHOW_DIALOG","HIDE_DIALOG","SELECT_STUDENT","COURSE_LIST","Ajax","Axios","create","timeout","defaults","headers","post","interceptors","request","use","config","console","log","method","data","qs","stringify","error","loadinginstace","close","Promise","reject","API","url","params","conf","arguments","length","undefined","then","res","returnCode","status","systemDate","message","err","errType","BASE_API","_getPhoneUserInfo","_sendCode","_getUserInfo","_sendStudioCallback","_getList","_path","path","SYSTEM","USER","LOGINJUMP","SEND_CODE","LOGIN_PHONE","userApi","getUserInfo","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","abrupt","sent","stop","_x","apply","this","sendCode","_callee2","_context2","_x2","getPhoneUserInfo","_callee3","_context3","_x3","COURSE","calendar","list","entryStudio","courseApi","getList","type","sendStudioCallback","_x4","sendCourseDetail","courseData","payload","_objectSpread","setUserInfo","userInfo","showDialog","setStudent","studentInfo","awaitCourseList","dispatch","CourseApi","courseList","format","time","fmt","date","Date","test","replace","RegExp","$1","getFullYear","substr","dt","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","key","concat","str","arrayFind","arr","value","i","arrayFindTo","setCookie","val","expiresDays","setTime","getTime","document","cookie","toGMTString","getPlatform","window","WCRClassRoom","getClientType","setUuid","s","Math","floor","random","join","Account","props","_this","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","call","defineProperty_default","assertThisInitialized_default","preventDefault","form","validateFields","handleSubmit","loginName","username","password","switchMethod","state","loading","info","setState","JSON","parse","localStorage","getItem","getFieldDecorator","_react_16_8_6_react_default","createElement","es_form","onSubmit","className","Item","initialValue","rules","required","input","prefix","icon","style","color","placeholder","onClick","es_button","block","htmlType","Component","Phone","_this2","mobile","phone","smsCode","isSend","getFieldValue","userSmsType","deviceType","deviceSerialNo","uuid","UserApi","interval","setInterval","number","clearInterval","rule","callback","_this3","_this$state","validator","validatorPhone","disabled","Login","_this4","options","setItem","requestType","platform","userMessageVo","userType","subUserInfoVoList","userId","name","userName","token","loginToken","avatar","select","1","2","3","4","encodeURI","setUser","history","push","loginType","_react_16_8_6_react","login_Account","extends_default","login_Phone","WrappedNormalLoginForm","connect","month","CalendarHeader","webAdapter","reload","fontSize","SmallCaleandar","currentCouse","forEach","item","year","filterDate","filterMonthsCourse","monthDate","clickDate","findCourse","changeDate","onPanelChange","onSelect","dateCellRender","fullscreen","ref","headerRender","_ref","onChange","padding","nowMonth","newValue","clone","parseInt","Sidebar","Router","findSelect","gender","background","handleGender","handleSwitchStudent","handleSignOut","propTypes","PropTypes","object","isRequired","defaultProps","course","Dialog","handleDialogSwitchStudent","students","handleLogin","hideDialog","modal","visible","title","onOk","handleOk","onCancel","handleCancel","width","footer","index","handleStudentInfo","CourseHeader","ListItem","_props$courseData","handleCourseBadge","_color","text","5","button","courseStatus","handleEntryClass","institutionId","scenario","classType","startTime","endTime","teacher_name","teacher","teacher_id","lesson_slide_url","broadcastingInfo","lessonSlideUrl","lesson_slide_backup_url","lessonSlideBackupUrl","actualStartTime","needLianMai","record_mode","userInfoParam","subUserId","joinClassRoom","result","content","web_log","notify","handleClientCallback","lesson","actual_time","server_time","afterJoinClassroomCallback","warning","已失效","body","commonNotifyCallback","handleScenario","backgroundColor","CourseList","_this$props","computedDate","nowDate","day","Course","startDate","endDate","clearTimeout","getCourseList","studentId","yearMonth","currentDate","handleUserId","calendarList","checkTodayCourse","today","courseDataStore","lessonLength","filter","courseListStore","clientRequest","resizeTo","broadcast_course_Sidebar","broadcast_course_SmallCaleandar","broadcast_course_CourseList","showLesson","courseComponent","_state$course","login","getInintalProps","store","typeof_default","routes_config","component","exact","loadData","route","clientRoute","routes","react_router","initialState","combineReducers","actions","course_objectSpread","login_objectSpread","App","es","defaultState","_REACT_SOTRE","createStore","Reducer","applyMiddleware","thunk","react_router_dom","ReactDom","hydrate","client_src_App","getElementById"],"mappings":"sKAAA,IAAAA,EAAA,CACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,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","file":"app.0b0b64db28765dc1c221.js","sourcesContent":["var map = {\n\t\"./af\": 277,\n\t\"./af.js\": 277,\n\t\"./ar\": 278,\n\t\"./ar-dz\": 279,\n\t\"./ar-dz.js\": 279,\n\t\"./ar-kw\": 280,\n\t\"./ar-kw.js\": 280,\n\t\"./ar-ly\": 281,\n\t\"./ar-ly.js\": 281,\n\t\"./ar-ma\": 282,\n\t\"./ar-ma.js\": 282,\n\t\"./ar-sa\": 283,\n\t\"./ar-sa.js\": 283,\n\t\"./ar-tn\": 284,\n\t\"./ar-tn.js\": 284,\n\t\"./ar.js\": 278,\n\t\"./az\": 285,\n\t\"./az.js\": 285,\n\t\"./be\": 286,\n\t\"./be.js\": 286,\n\t\"./bg\": 287,\n\t\"./bg.js\": 287,\n\t\"./bm\": 288,\n\t\"./bm.js\": 288,\n\t\"./bn\": 289,\n\t\"./bn.js\": 289,\n\t\"./bo\": 290,\n\t\"./bo.js\": 290,\n\t\"./br\": 291,\n\t\"./br.js\": 291,\n\t\"./bs\": 292,\n\t\"./bs.js\": 292,\n\t\"./ca\": 293,\n\t\"./ca.js\": 293,\n\t\"./cs\": 294,\n\t\"./cs.js\": 294,\n\t\"./cv\": 295,\n\t\"./cv.js\": 295,\n\t\"./cy\": 296,\n\t\"./cy.js\": 296,\n\t\"./da\": 297,\n\t\"./da.js\": 297,\n\t\"./de\": 298,\n\t\"./de-at\": 299,\n\t\"./de-at.js\": 299,\n\t\"./de-ch\": 300,\n\t\"./de-ch.js\": 300,\n\t\"./de.js\": 298,\n\t\"./dv\": 301,\n\t\"./dv.js\": 301,\n\t\"./el\": 302,\n\t\"./el.js\": 302,\n\t\"./en-SG\": 303,\n\t\"./en-SG.js\": 303,\n\t\"./en-au\": 304,\n\t\"./en-au.js\": 304,\n\t\"./en-ca\": 305,\n\t\"./en-ca.js\": 305,\n\t\"./en-gb\": 306,\n\t\"./en-gb.js\": 306,\n\t\"./en-ie\": 307,\n\t\"./en-ie.js\": 307,\n\t\"./en-il\": 308,\n\t\"./en-il.js\": 308,\n\t\"./en-nz\": 309,\n\t\"./en-nz.js\": 309,\n\t\"./eo\": 310,\n\t\"./eo.js\": 310,\n\t\"./es\": 311,\n\t\"./es-do\": 312,\n\t\"./es-do.js\": 312,\n\t\"./es-us\": 313,\n\t\"./es-us.js\": 313,\n\t\"./es.js\": 311,\n\t\"./et\": 314,\n\t\"./et.js\": 314,\n\t\"./eu\": 315,\n\t\"./eu.js\": 315,\n\t\"./fa\": 316,\n\t\"./fa.js\": 316,\n\t\"./fi\": 317,\n\t\"./fi.js\": 317,\n\t\"./fo\": 318,\n\t\"./fo.js\": 318,\n\t\"./fr\": 319,\n\t\"./fr-ca\": 320,\n\t\"./fr-ca.js\": 320,\n\t\"./fr-ch\": 321,\n\t\"./fr-ch.js\": 321,\n\t\"./fr.js\": 319,\n\t\"./fy\": 322,\n\t\"./fy.js\": 322,\n\t\"./ga\": 323,\n\t\"./ga.js\": 323,\n\t\"./gd\": 324,\n\t\"./gd.js\": 324,\n\t\"./gl\": 325,\n\t\"./gl.js\": 325,\n\t\"./gom-latn\": 326,\n\t\"./gom-latn.js\": 326,\n\t\"./gu\": 327,\n\t\"./gu.js\": 327,\n\t\"./he\": 328,\n\t\"./he.js\": 328,\n\t\"./hi\": 329,\n\t\"./hi.js\": 329,\n\t\"./hr\": 330,\n\t\"./hr.js\": 330,\n\t\"./hu\": 331,\n\t\"./hu.js\": 331,\n\t\"./hy-am\": 332,\n\t\"./hy-am.js\": 332,\n\t\"./id\": 333,\n\t\"./id.js\": 333,\n\t\"./is\": 334,\n\t\"./is.js\": 334,\n\t\"./it\": 335,\n\t\"./it-ch\": 336,\n\t\"./it-ch.js\": 336,\n\t\"./it.js\": 335,\n\t\"./ja\": 337,\n\t\"./ja.js\": 337,\n\t\"./jv\": 338,\n\t\"./jv.js\": 338,\n\t\"./ka\": 339,\n\t\"./ka.js\": 339,\n\t\"./kk\": 340,\n\t\"./kk.js\": 340,\n\t\"./km\": 341,\n\t\"./km.js\": 341,\n\t\"./kn\": 342,\n\t\"./kn.js\": 342,\n\t\"./ko\": 343,\n\t\"./ko.js\": 343,\n\t\"./ku\": 344,\n\t\"./ku.js\": 344,\n\t\"./ky\": 345,\n\t\"./ky.js\": 345,\n\t\"./lb\": 346,\n\t\"./lb.js\": 346,\n\t\"./lo\": 347,\n\t\"./lo.js\": 347,\n\t\"./lt\": 348,\n\t\"./lt.js\": 348,\n\t\"./lv\": 349,\n\t\"./lv.js\": 349,\n\t\"./me\": 350,\n\t\"./me.js\": 350,\n\t\"./mi\": 351,\n\t\"./mi.js\": 351,\n\t\"./mk\": 352,\n\t\"./mk.js\": 352,\n\t\"./ml\": 353,\n\t\"./ml.js\": 353,\n\t\"./mn\": 354,\n\t\"./mn.js\": 354,\n\t\"./mr\": 355,\n\t\"./mr.js\": 355,\n\t\"./ms\": 356,\n\t\"./ms-my\": 357,\n\t\"./ms-my.js\": 357,\n\t\"./ms.js\": 356,\n\t\"./mt\": 358,\n\t\"./mt.js\": 358,\n\t\"./my\": 359,\n\t\"./my.js\": 359,\n\t\"./nb\": 360,\n\t\"./nb.js\": 360,\n\t\"./ne\": 361,\n\t\"./ne.js\": 361,\n\t\"./nl\": 362,\n\t\"./nl-be\": 363,\n\t\"./nl-be.js\": 363,\n\t\"./nl.js\": 362,\n\t\"./nn\": 364,\n\t\"./nn.js\": 364,\n\t\"./pa-in\": 365,\n\t\"./pa-in.js\": 365,\n\t\"./pl\": 366,\n\t\"./pl.js\": 366,\n\t\"./pt\": 367,\n\t\"./pt-br\": 368,\n\t\"./pt-br.js\": 368,\n\t\"./pt.js\": 367,\n\t\"./ro\": 369,\n\t\"./ro.js\": 369,\n\t\"./ru\": 370,\n\t\"./ru.js\": 370,\n\t\"./sd\": 371,\n\t\"./sd.js\": 371,\n\t\"./se\": 372,\n\t\"./se.js\": 372,\n\t\"./si\": 373,\n\t\"./si.js\": 373,\n\t\"./sk\": 374,\n\t\"./sk.js\": 374,\n\t\"./sl\": 375,\n\t\"./sl.js\": 375,\n\t\"./sq\": 376,\n\t\"./sq.js\": 376,\n\t\"./sr\": 377,\n\t\"./sr-cyrl\": 378,\n\t\"./sr-cyrl.js\": 378,\n\t\"./sr.js\": 377,\n\t\"./ss\": 379,\n\t\"./ss.js\": 379,\n\t\"./sv\": 380,\n\t\"./sv.js\": 380,\n\t\"./sw\": 381,\n\t\"./sw.js\": 381,\n\t\"./ta\": 382,\n\t\"./ta.js\": 382,\n\t\"./te\": 383,\n\t\"./te.js\": 383,\n\t\"./tet\": 384,\n\t\"./tet.js\": 384,\n\t\"./tg\": 385,\n\t\"./tg.js\": 385,\n\t\"./th\": 386,\n\t\"./th.js\": 386,\n\t\"./tl-ph\": 387,\n\t\"./tl-ph.js\": 387,\n\t\"./tlh\": 388,\n\t\"./tlh.js\": 388,\n\t\"./tr\": 389,\n\t\"./tr.js\": 389,\n\t\"./tzl\": 390,\n\t\"./tzl.js\": 390,\n\t\"./tzm\": 391,\n\t\"./tzm-latn\": 392,\n\t\"./tzm-latn.js\": 392,\n\t\"./tzm.js\": 391,\n\t\"./ug-cn\": 393,\n\t\"./ug-cn.js\": 393,\n\t\"./uk\": 394,\n\t\"./uk.js\": 394,\n\t\"./ur\": 395,\n\t\"./ur.js\": 395,\n\t\"./uz\": 396,\n\t\"./uz-latn\": 397,\n\t\"./uz-latn.js\": 397,\n\t\"./uz.js\": 396,\n\t\"./vi\": 398,\n\t\"./vi.js\": 398,\n\t\"./x-pseudo\": 399,\n\t\"./x-pseudo.js\": 399,\n\t\"./yo\": 400,\n\t\"./yo.js\": 400,\n\t\"./zh-cn\": 401,\n\t\"./zh-cn.js\": 401,\n\t\"./zh-hk\": 402,\n\t\"./zh-hk.js\": 402,\n\t\"./zh-tw\": 403,\n\t\"./zh-tw.js\": 403\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 758;","// 登录\r\nexport const LOGIN = 'LOGIN';\r\nexport const SEND_COURSE_DETAIL = 'SEND_COURSE_DETAIL';\r\n// course\r\nexport const SHOW_DIALOG = 'SHOW_DIALOG';\r\nexport const HIDE_DIALOG = 'HIDE_DIALOG';\r\nexport const SELECT_STUDENT = 'SELECT_STUDENT';\r\nexport const COURSE_LIST = 'COURSE_LIST';\r\n// test\r\nexport const TEST = 'TEST';","import Axios from 'axios';\r\nimport { message } from 'antd';\r\nimport qs from 'qs';\r\n\r\nconst Ajax = Axios.create({\r\n    timeout: 6000\r\n});\r\nAjax.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n//添加请求拦截器\r\nAjax.interceptors.request.use(function (config) {\r\n    console.log(config);\r\n    // post数据序列化  针对post需要\r\n    if (config.method === 'post') {\r\n        config.data = qs.stringify(config.data);\r\n    }\r\n    return config;\r\n}, function (error) {\r\n    loadinginstace.close();\r\n    return Promise.reject(error);\r\n});\r\n\r\nconst API = {\r\n    get (url, params, conf = {}) {\r\n        console.log('start');\r\n        return new Promise((resolve, reject) => {\r\n            Ajax.get(url, {\r\n                params,\r\n                conf\r\n            }).then(res => {\r\n                let returnCode = res.data.status.code;\r\n                res.data.data.systemDate = res.data.systemDate;\r\n                if (returnCode === 0) {\r\n                    resolve(res.data.data);\r\n                } else {\r\n                    message.error(res.data.status.message);\r\n                    reject(res.data.message);\r\n                }\r\n            }).catch((err, errType) => {\r\n                // message.error(err.message);\r\n                reject(err, errType);\r\n            });\r\n        });\r\n    },\r\n    post (url, params, conf = {}) {\r\n        return new Promise((resolve, reject) => {\r\n            Ajax.post(url, params, conf).then((res) => {\r\n                let returnCode = res.data.status.code;\r\n                res.data.data.systemDate = res.data.systemDate;\r\n                if (returnCode === 0) {\r\n                    resolve(res.data.data);\r\n                } else {\r\n                    console.log(res, '---------------------12');\r\n                    message.error(res.data.status.message);\r\n                    reject(res.data.message);\r\n                }\r\n            }).catch((err, errType) => {\r\n                console.log(err, '-------------------err');\r\n                // message.error(err.message);\r\n                reject(err, errType);\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nexport { API };\r\n","// let prefix = process.env.NODE_ENV === 'production' ? '' : 'alpha';\r\nlet prefix = 'rc';\r\nlet BASE_API = '';\r\nswitch (prefix) {\r\n    case 'dev':\r\n        BASE_API = 'http://dev-api-mp.szy.net/proxy/mallAdmin';\r\n        break;\r\n    case 'alpha':\r\n        BASE_API = 'http://dev.beiwaiguoji.com/api';\r\n        break;\r\n    case 'rc':\r\n        BASE_API = 'http://pre.beiwaiguoji.com/api';\r\n        break;\r\n    default:\r\n        BASE_API = 'http://api-mp.szy.cn/proxy/mallAdmin';\r\n        break;\r\n}\r\nconst _path = path => BASE_API + path;\r\nexport {\r\n    _path\r\n};\r\n","import { API } from '../api';\r\nimport { _path } from '../apiHost';\r\nexport const SYSTEM = {\r\n    // 用户相关\r\n    USER: {\r\n        // 登录跳转\r\n        LOGINJUMP: _path('/ucenter/dispatch?action=loginWithPassword'),\r\n\r\n        // 发送验证码\r\n        SEND_CODE: _path('/ucenter/dispatch?action=sendUserSms'),\r\n\r\n        // 手机号登录\r\n        LOGIN_PHONE: _path('/ucenter/dispatch?action=loginSms'),\r\n    }\r\n};\r\nexport default {\r\n    async getUserInfo (params) {\r\n        return await API.post(SYSTEM.USER.LOGINJUMP, params, {});\r\n    },\r\n\r\n    async sendCode (params) {\r\n        return await API.post(SYSTEM.USER.SEND_CODE, params, {});\r\n    },\r\n\r\n    async getPhoneUserInfo (params) {\r\n        return await API.post(SYSTEM.USER.LOGIN_PHONE, params, {});\r\n    }\r\n};\r\n","import { API } from '../api';\r\nimport { _path } from '../apiHost';\r\nexport const COURSE = {\r\n    // 课表页\r\n    calendar: {\r\n        // 课表列表\r\n        list: _path('/live/dispatch?action=liveCalendar'),\r\n        // 进入直播间 回调接口\r\n        entryStudio: _path('/live/dispatch?action=callbackNotify'),\r\n    }\r\n};\r\nexport default {\r\n    async getList (type, params) {\r\n        return await API.post(COURSE[type].list, params, {});\r\n    },\r\n    async sendStudioCallback (type, params) {\r\n        return await API.post(COURSE[type].entryStudio, params, {});\r\n    }\r\n};\r\n","\r\nimport { SEND_COURSE_DETAIL, LOGIN, SHOW_DIALOG, SELECT_STUDENT, HIDE_DIALOG, TEST, COURSE_LIST } from './actionTypes';\r\nimport { CourseApi } from '../api/index';\r\n\r\n// 课程信息\r\nexport function sendCourseDetail (courseData) {\r\n    return {\r\n        type: SEND_COURSE_DETAIL,\r\n        payload: {\r\n            ...courseData\r\n        }\r\n    };\r\n}\r\n\r\n// 设置用户信息\r\nexport function setUserInfo (userInfo) {\r\n    return {\r\n        type: LOGIN,\r\n        payload: {\r\n            ...userInfo\r\n        }\r\n    };\r\n}\r\n\r\n// 显示弹窗\r\nexport function showDialog (status) {\r\n    return {\r\n        type: SHOW_DIALOG,\r\n        payload: {\r\n            ...status\r\n        }\r\n    };\r\n}\r\n\r\n// 隐藏弹窗\r\nexport function hideDialog (status) {\r\n    return {\r\n        type: HIDE_DIALOG,\r\n        payload: {\r\n            ...status\r\n        }\r\n    };\r\n}\r\n\r\n// 选中学生\r\nexport function setStudent (studentInfo) {\r\n    return {\r\n        type: SELECT_STUDENT,\r\n        payload: {\r\n            ...studentInfo\r\n        }\r\n    };\r\n}\r\n\r\nexport function getCourseList (data) {\r\n    console.log(data, '---------------------------a');\r\n    return {\r\n        type: COURSE_LIST,\r\n        payload: {\r\n            ...data\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport function awaitCourseList (params) {\r\n    return (dispatch) => {\r\n        return CourseApi.getList('calendar', params).then(res => {\r\n            dispatch(getCourseList({ courseList: res['calendarList'] }));\r\n        });\r\n    };\r\n}\r\n\r\n// // 测试\r\n// export function test () {\r\n//     return dispatch => {\r\n//         setTimeout(() => {\r\n\r\n//         }, 1000);\r\n//     }\r\n// }\r\n\r\n// 测试\r\nexport function test (list) {\r\n    return {\r\n        type: 'TEST',\r\n        payload: {\r\n            list\r\n        }\r\n    };\r\n}\r\n\r\nfunction testPromise (options) {\r\n    return new Promise((resolve, reject) => {\r\n        setTimeout(() => {\r\n            resolve([33, 33, 26662, 22]);\r\n        }, 1000);\r\n    });\r\n}\r\n\r\nexport function testAsync () {\r\n    return (dispatch, getState) => {\r\n        return testPromise().then(res => {\r\n            dispatch(test(res));\r\n        });\r\n    };\r\n}\r\n\r\n","/**\r\n * 时间过滤器\r\n * @param {number} time \r\n * @param {string} fmt \r\n */\r\nexport let format = (time, fmt) => {\r\n    if (!time) return '';\r\n    fmt = fmt || 'yyyy-MM-dd hh:mm';\r\n    let date = new Date(time);\r\n\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(\r\n            RegExp.$1, (date.getFullYear() + '').substr(4 - RegExp.$1.length)\r\n        );\r\n    }\r\n\r\n    let dt = {\r\n        'M+': date.getMonth() + 1,\r\n        'd+': date.getDate(),\r\n        'h+': date.getHours(),\r\n        'm+': date.getMinutes(),\r\n        's+': date.getSeconds()\r\n    };\r\n\r\n    for (let key in dt) {\r\n        if (new RegExp(`(${key})`).test(fmt)) {\r\n            let str = dt[key] + '';\r\n            fmt = fmt.replace(RegExp.$1,\r\n                (RegExp.$1.length === 1) ? str : ('00' + str).substr(str.length)\r\n            );\r\n        }\r\n    }\r\n    return fmt;\r\n};\r\n\r\n/**\r\n * es6 find方法  查找日期\r\n * @param {Array} arr \r\n * @param {string} key \r\n * @param {string} value \r\n */\r\nexport let arrayFind = (arr, key, value) => {\r\n    console.log(value);\r\n    // eslint-disable-next-line no-debugger\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (format(arr[i][key], 'yyyy-MM-dd') === value) {\r\n            return arr[i];\r\n        }\r\n    }\r\n    return false;\r\n\r\n};\r\n\r\n/**\r\n * es6 find方法  查找对象\r\n * @param {Array} arr \r\n * @param {string} key \r\n * @param {string} value \r\n */\r\nexport let arrayFindTo = (arr, key, value) => {\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i][key] === value) {\r\n            return arr[i];\r\n        }\r\n    }\r\n    return false;\r\n\r\n};\r\n\r\n/**\r\n * 设置cookie\r\n * @param {string} key \r\n * @param {*} val \r\n * @param {*} time \r\n */\r\n\r\nexport let setCookie = function (key, val, time) { //设置cookie方法\r\n    var date = new Date(); //获取当前时间\r\n    var expiresDays = time;  //将date设置为n天以后的时间\r\n    date.setTime(date.getTime() + expiresDays * 24 * 3600 * 1000); // 设置过期时间 单位：天\r\n    document.cookie = key + \"=\" + val + \";expires=\" + date.toGMTString();  //设置cookie\r\n};\r\n\r\n\r\n/**\r\n * 查询当前URL search 参数\r\n */\r\nexport let queryUrlValue = () => {\r\n    let search = location.search.substring(1).split('&');\r\n    let params = {};\r\n    search.forEach(item => {\r\n        let value = item.split('=');\r\n        params[value[0]] = value[1];\r\n    });\r\n    return params;\r\n};\r\n\r\nexport let getPlatform = function () {\r\n    return window.WCRClassRoom && window.WCRClassRoom.getClientType();\r\n};\r\n\r\n// 生成设备唯一标识\r\nexport let setUuid = () => {\r\n    var s = [];\r\n    var hexDigits = \"0123456789abcdef\";\r\n    for (var i = 0; i < 36; i++) {\r\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n    }\r\n    s[14] = \"4\";  // bits 12-15 of the time_hi_and_version field to 0010\r\n    s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);  // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n    s[8] = s[13] = s[18] = s[23] = \"-\";\r\n\r\n    var uuid = s.join(\"\");\r\n    return uuid;\r\n};","\r\nimport React, { Component, Fragment } from 'react';\r\nimport { Form, Icon, Input, Button, message } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { setUserInfo, setStudent } from '../../../redux/actions';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\n\r\nimport { UserApi } from '../../../api/index';\r\nimport { setCookie, getPlatform, setUuid } from '../../../utils/common';\r\nimport './login.css';\r\n\r\n\r\nclass Account extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            info: {}\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.setState({\r\n            info: JSON.parse(localStorage.getItem('info')) || {},\r\n        });\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, value) => {\r\n            if (!err) {\r\n                this.props.handleSubmit('account', {\r\n                    loginName: value.username,\r\n                    password: value.password\r\n                });\r\n            }\r\n        });\r\n    }\r\n    switchMethod = e => {\r\n        this.props.switchMethod(2);\r\n    }\r\n    render () {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <Form onSubmit={this.handleSubmit} className='login-form'>\r\n                <Form.Item>\r\n                    {getFieldDecorator('username', {\r\n                        initialValue: this.state.info.loginName || '',\r\n                        rules: [{ required: true, message: '请输入账号!' }],\r\n                    })(\r\n                        <Input\r\n                            prefix={<Icon type='user' style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            placeholder='用户名'\r\n                        />,\r\n                    )}\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    {getFieldDecorator('password', {\r\n                        initialValue: this.state.info.password || '',\r\n                        rules: [{ required: true, message: '请输入密码！' }],\r\n                    })(\r\n                        <Input\r\n                            prefix={<Icon type='lock' style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            type='password'\r\n                            placeholder='密码'\r\n                        />,\r\n                    )}\r\n                </Form.Item>\r\n                <p className='login-form-phone' onClick={this.switchMethod}>手机号登陆？</p>\r\n                <Form.Item>\r\n                    <Button type='primary' block htmlType='submit' loading={this.state.loading} className='login-form-button'>登录</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nclass Phone extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            info: {},\r\n            isSend: false,\r\n            number: 60,\r\n            interval: null,\r\n            phone: ''\r\n        };\r\n    }\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, value) => {\r\n            if (!err) {\r\n                this.props.handleSubmit('phone', {\r\n                    mobile: value.phone,\r\n                    smsCode: value.code,\r\n                });\r\n            }\r\n        });\r\n    }\r\n    switchMethod = e => {\r\n        this.props.switchMethod(1);\r\n    }\r\n\r\n    /**\r\n     * 发送验证码\r\n     */\r\n    sendCode = e => {\r\n        // 单个验证\r\n        this.props.form.validateFields(['phone'], err => {\r\n            if (!err) {\r\n                this.setState(state => {\r\n                    return {\r\n                        isSend: true\r\n                    };\r\n                });\r\n                let params = {\r\n                    mobile: this.props.form.getFieldValue('phone'),\r\n                    userSmsType: 0,\r\n                    deviceType: 1,\r\n                    deviceSerialNo: 'pc' + this.props.uuid\r\n                };\r\n                UserApi.sendCode(params).then(res => {\r\n                    this.setState({\r\n                        interval: setInterval(() => {\r\n                            this.setState((state, props) => {\r\n                                return {\r\n                                    number: --state.number\r\n                                };\r\n                            });\r\n                            if (this.state.number === 57) {\r\n                                this.setState(state => {\r\n                                    clearInterval(this.state.interval);\r\n                                    return {\r\n                                        isSend: false,\r\n                                        number: 60\r\n                                    };\r\n                                });\r\n                            }\r\n\r\n                        }, 1000)\r\n                    });\r\n                }).catch(err => {\r\n                    this.setState(state => {\r\n                        return {\r\n                            isSend: false\r\n                        };\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    /**\r\n     * 验证手机号码\r\n     */\r\n    validatorPhone = (rule, value, callback) => {\r\n        console.log(value, '---');\r\n        let reg = /^1[3456789]\\d{9}$/;\r\n        if (value.length === 0) {\r\n            callback('请输入手机号码');\r\n        } else if (!reg.test(value)) {\r\n            callback('手机号码输入有误');\r\n        }\r\n        callback();\r\n    }\r\n    render () {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let { isSend, number } = this.state;\r\n        return (\r\n            <Form onSubmit={this.handleSubmit} className='login-form'>\r\n                <Form.Item>\r\n                    {getFieldDecorator('phone', {\r\n                        initialValue: this.state.phone || '',\r\n                        rules: [\r\n                            // { required: true, message: '请输入手机号!' },\r\n                            { validator: (rule, value, callback) => this.validatorPhone(rule, value, callback) }\r\n                        ],\r\n                    })(\r\n                        <Input\r\n                            prefix={<Icon type='phone' style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                            placeholder='手机号'\r\n                        />,\r\n                    )}\r\n\r\n                </Form.Item>\r\n                <Form.Item>\r\n                    {getFieldDecorator('code', {\r\n                        rules: [{ required: true, message: '请输入验证码!' }],\r\n                    })(\r\n                        <div className='flex-center phone-box'>\r\n                            <Input\r\n                                placeholder='验证码'\r\n                            /> <Button type='primary' onClick={this.sendCode} disabled={isSend}>\r\n                                {\r\n                                    isSend ? number + 's' : '发送'\r\n                                }\r\n                            </Button>\r\n                        </div>\r\n\r\n                    )}\r\n                </Form.Item>\r\n                <p className='login-form-phone' onClick={this.switchMethod}>账号密码登陆？</p>\r\n                <Form.Item>\r\n                    <Button type='primary' block htmlType='submit' loading={this.state.loading} className='login-form-button'>登录</Button>\r\n                </Form.Item>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\nclass Login extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loginType: 1,\r\n            info: {},\r\n            uuid: ''\r\n        };\r\n    }\r\n    componentDidMount () {\r\n        this.setState({\r\n            info: JSON.parse(localStorage.getItem('info')) || {},\r\n            uuid: localStorage.getItem('uuid') ? localStorage.getItem('uuid') : setUuid()\r\n        });\r\n        console.log(localStorage.getItem('info'));\r\n    }\r\n\r\n    /**\r\n     * 分为手机号 账号 登录  使用同一个方法\r\n     * @param {string} type   (默认)account   phone\r\n     */\r\n    handleSubmit = (type = 'account', options = {}) => {\r\n        this.props.form.validateFields((err) => {\r\n            if (!err) {\r\n                this.setState({\r\n                    loading: true\r\n                });\r\n                localStorage.setItem('uuid', this.state.uuid);\r\n\r\n                let params = {\r\n                    deviceType: 1,\r\n                    deviceSerialNo: 'pc-' + this.state.uuid\r\n                };\r\n\r\n                let requestType = UserApi.getUserInfo;\r\n                // 根据登录类型做区分\r\n                if (type === 'account') {\r\n                    params.loginName = options.loginName;\r\n                    params.password = options.password;\r\n                } else {\r\n                    params.mobile = options.mobile;\r\n                    params.smsCode = options.smsCode;\r\n                    requestType = UserApi.getPhoneUserInfo;\r\n                }\r\n\r\n                requestType(params).then((res) => {\r\n                    let platform = getPlatform();\r\n                    // 判断当前版本\r\n                    if (res.userMessageVo.userType === 1 && platform === 'student') {\r\n                        message.error('请登录教师端！');\r\n                        this.setState({\r\n                            loading: false\r\n                        });\r\n                        return;\r\n                    }\r\n                    if (res.userMessageVo.userType !== 1 && platform === 'teacher') {\r\n                        message.error('请登录学生端！');\r\n                        this.setState({\r\n                            loading: false\r\n                        });\r\n                        return;\r\n                    }\r\n                    if (res.userMessageVo.userType === 4 && res.userMessageVo.subUserInfoVoList.length === 0) {\r\n                        message.error('您未添加学生');\r\n                        this.setState({\r\n                            loading: false\r\n                        });\r\n                        return;\r\n                    }\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                    // 调用直播云SDK 传入父类信息\r\n                    let userInfo = {};\r\n                    // 如果子类存在 说明是 家长 或者 学生 取子类信息\r\n                    if (res.userMessageVo.subUserInfoVoList.length > 0) {\r\n                        userInfo.id = res.userMessageVo.subUserInfoVoList[0].userId;\r\n                        userInfo.name = res.userMessageVo.subUserInfoVoList[0].userName;\r\n                        userInfo.password = '0';\r\n                        userInfo.token = res.userMessageVo.loginToken;\r\n                        userInfo.avatar = 'http://snsimg.ztjystore.cn/ztnew/ad/img/2019/07/05/1562295571719403.png';\r\n                        userInfo.mobile = res.userMessageVo.subUserInfoVoList[0].mobile || '0';\r\n                        res.userMessageVo.subUserInfoVoList[0].select = true;\r\n                        this.props.setStudent({ studentInfo: res.userMessageVo.subUserInfoVoList[0] });\r\n                    } else {\r\n                        userInfo.id = res.userMessageVo.userId;\r\n                        userInfo.name = res.userMessageVo.userName;\r\n                        userInfo.password = '0';\r\n                        userInfo.token = res.userMessageVo.loginToken;\r\n                        userInfo.avatar = 'http://snsimg.ztjystore.cn/ztnew/ad/img/2019/07/05/1562295571719403.png';\r\n                        userInfo.mobile = res.userMessageVo.mobile || '0';\r\n                        this.props.setStudent({ studentInfo: res.userMessageVo });\r\n                        res.userMessageVo.select = true;\r\n                    }\r\n                    // 1 教师，2 学员， 3 潜客 4 家长\r\n                    let type = {\r\n                        '1': 'teacher',\r\n                        '2': 'student',\r\n                        '3': 'student',\r\n                        '4': 'student',\r\n                    };\r\n                    userInfo['type'] = type[(res.userMessageVo.userType)] || 'student';\r\n\r\n                    // 写入store\r\n                    this.props.setUserInfo({ userInfo: res.userMessageVo });\r\n                    //  写入cookie 和 localstorage\r\n                    setCookie('userInfo', encodeURI(JSON.stringify(res.userMessageVo)), 30);\r\n                    localStorage.setItem('userInfo', JSON.stringify(res.userMessageVo));\r\n                    // 记录登录的账号和密码\r\n                    localStorage.setItem('info', JSON.stringify({\r\n                        loginName: options.loginName,\r\n                        password: options.password\r\n                    }));\r\n                    window.WCRClassRoom.setUser(JSON.stringify(userInfo));\r\n                    this.props.history.push('/h5/live/broadcast/course');\r\n                }).catch(err => {\r\n                    this.setState({\r\n                        loading: false\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * @param {number}  1切换到账号    2   切换到手机号\r\n     */\r\n    switchMethod = type => {\r\n        this.setState({\r\n            loginType: type\r\n        });\r\n    }\r\n\r\n    render () {\r\n        let { loginType } = this.state;\r\n        return (\r\n            <Fragment>\r\n                <div className='login-wrapper'>\r\n                    <div className='login-wrapper-layout'>\r\n                        <div className='login-logo'></div>\r\n                        {\r\n                            loginType === 1 && <Account handleSubmit={this.handleSubmit} switchMethod={this.switchMethod} {...this.props} info={this.state.info} ></Account>\r\n                        }\r\n                        {\r\n                            loginType === 2 && <Phone handleSubmit={this.handleSubmit} uuid={this.state.uuid} switchMethod={this.switchMethod} {...this.props}></Phone>\r\n                        }\r\n\r\n                    </div>\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(Login);\r\n\r\nexport default connect(\r\n    null,\r\n    { setUserInfo, setStudent }\r\n)(WrappedNormalLoginForm);","// eslint-disable-next-line no-unused-vars\r\nimport React, { Fragment, Component } from 'react';\r\n// eslint-disable-next-line no-unused-vars\r\nimport { Calendar, Select, Radio, Col, Row, Icon } from 'antd';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { arrayFind, format } from '../../../../utils/common';\r\nimport { sendCourseDetail } from '../../../../redux/actions';\r\nimport './SmallCaleandar.less';\r\nlet month = '';\r\nfunction CalendarHeader () {\r\n\r\n    function handleRefresh () {\r\n        window.webAdapter.reload();\r\n    }\r\n\r\n    return (\r\n        <div className='calendar-header flex-center'>\r\n            <div className='calendar-header-refresh flex-center' onClick={handleRefresh}>\r\n                <Icon type='sync' style={{ fontSize: '18px', color: '#5fa2ee' }} />\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nclass SmallCaleandar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    /**\r\n\t * 过滤出本月课程\r\n\t * @param {string} value \r\n\t */\r\n    filterMonthsCourse = value => {\r\n        let currentCouse = [];\r\n        this.props.courseData.forEach(item => {\r\n\r\n            if (format(item.date, 'yyyy-MM-dd') === value) {\r\n                currentCouse.push(item);\r\n            }\r\n        });\r\n        return currentCouse;\r\n    }\r\n\r\n    dateCellRender = (value) => {\r\n        let month = (value.month() + 1) < 10 ? '0' + (value.month() + 1) : value.month() + 1;\r\n        let date = value.date() < 10 ? '0' + value.date() : value.date();\r\n        let year = value.year();\r\n        let filterDate = this.filterMonthsCourse(`${year}-${month}-${date}`);\r\n        return (\r\n            <ul className='events'>\r\n                {\r\n                    filterDate.map(item => {\r\n                        return (\r\n                            <div key={item.date} className={`date-item`}>\r\n\r\n                            </div>\r\n                        );\r\n                    })\r\n                }\r\n\r\n            </ul>\r\n        );\r\n    }\r\n\r\n    onSelect = date => {\r\n        let monthDate = (date.month() + 1) < 10 ? '0' + (date.month() + 1) : (date.month() + 1);\r\n        let clickDate = `${date.year()}-${monthDate}-${date.date() < 10 ? '0' + date.date() : date.date()}`;\r\n        let findCourse = (arrayFind(this.props.courseData, 'date', clickDate) || {});\r\n        if (month !== date.month()) return;\r\n        this.props.sendCourseDetail({\r\n            courseData: findCourse\r\n        });\r\n    }\r\n\r\n    /**\r\n\t * 传递当前选择时间  从新获取时间的课程\r\n\t * @param {object} date 时间对象\r\n\t */\r\n    onPanelChange = date => {\r\n        // eslint-disable-next-line react/prop-types\r\n        this.props.changeDate(date);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <Fragment>\r\n                <CalendarHeader></CalendarHeader>\r\n                <div className='calendar-wrapper'>\r\n                    <Calendar\r\n                        onPanelChange={this.onPanelChange}\r\n                        onSelect={this.onSelect}\r\n                        dateCellRender={this.dateCellRender}\r\n                        fullscreen={false}\r\n                        ref='myInput'\r\n                        headerRender={({ value, onChange }) => {\r\n                            month = value.month();\r\n                            const year = value.year();\r\n                            return (\r\n                                <div style={{ padding: 10 }}>\r\n                                    <div className='flex-center'>\r\n                                        <div className='calendar-caret flex-center' onClick={() => {\r\n                                            let nowMonth = month;\r\n                                            const newValue = value.clone();\r\n                                            newValue.month(parseInt(--nowMonth, 10));\r\n                                            onChange(newValue);\r\n                                        }}>\r\n                                            <Icon type='caret-left' style={{ fontSize: '20px', color: '#a9a9a9' }} />\r\n                                        </div>\r\n                                        <div className='calendar-date'>{`${year}年${(month + 1)}月`}</div>\r\n                                        <div className='calendar-caret flex-center' onClick={() => {\r\n                                            let nowMonth = month;\r\n                                            const newValue = value.clone();\r\n                                            newValue.month(parseInt(++nowMonth, 10));\r\n                                            onChange(newValue);\r\n                                        }}>\r\n                                            <Icon type='caret-right' style={{ fontSize: '20px', color: '#a9a9a9' }} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    { sendCourseDetail }\r\n)(SmallCaleandar);","\r\nimport React, { Component } from 'react';\r\nimport { Icon } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport { showDialog } from '../../../../redux/actions';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getPlatform, arrayFindTo } from '../../../../utils/common';\r\nimport './Sidebar.less';\r\nclass Sidebar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            platform: '',\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.setState({\r\n            platform: getPlatform()\r\n        });\r\n    }\r\n\r\n    handleSignOut = () => {\r\n        window.WCRClassRoom.setUser('');\r\n        Router.push('/broadcast/login');\r\n    }\r\n\r\n    handleSwitchStudent = () => {\r\n        this.props.showDialog({ status: true });\r\n    }\r\n\r\n    handleAvatar = () => {\r\n\r\n    }\r\n\r\n    /**\r\n     * 处理性别   // 1 男 2女\r\n     */\r\n    handleGender = (findSelect) => {\r\n        if (findSelect.gender === 1) {\r\n            return 'http://snsimg.ztjystore.cn/1562303034TyAFquWFiu';\r\n        } else if (findSelect.gender === 2) {\r\n            return 'http://snsimg.ztjystore.cn/ztnew/ad/img/2019/07/05/1562291591660101.jpg?imageView2/2/w/720';\r\n        }\r\n        return 'http://snsimg.ztjystore.cn/article/2019/07/05/1562281563183957.jpg?imageView2/2/w/720';\r\n    }\r\n\r\n    render () {\r\n        let findSelect = arrayFindTo(this.props.studentInfo, 'select', true);\r\n\r\n        return (\r\n            <aside className='sidebar-container'>\r\n                <div className='sidebar-avatar' style={{ 'background': `url(${this.handleGender(findSelect)}) no-repeat` }}>\r\n                </div>\r\n                <div className='sidebar-name'>\r\n                    {findSelect.userName}\r\n                </div>\r\n                <ul className='nav'>\r\n                    <li className='nav-item'>\r\n                        <Icon type='calendar' />\r\n                        <div className='nav-item-title'>课程表</div>\r\n                    </li>\r\n                    {\r\n                        this.state.platform === 'student' && <li className='nav-item' onClick={this.handleSwitchStudent}>\r\n                            <Icon type='team' />\r\n                            <div className='nav-item-title'>切换学生</div>\r\n                        </li>\r\n                    }\r\n                    <li className='nav-item' onClick={this.handleSignOut}>\r\n                        <Icon type='logout' />\r\n                        <div className='nav-item-title'>退出登录</div>\r\n                    </li>\r\n                </ul>\r\n\r\n            </aside>\r\n        );\r\n    }\r\n\r\n}\r\nSidebar.propTypes = {\r\n    // eslint-disable-next-line react/require-default-props\r\n    userInfo: PropTypes.object.isRequired\r\n};\r\n\r\nSidebar.defaultProps = {\r\n    userInfo: {}\r\n};\r\n\r\nlet mapStateToProps = state => {\r\n    let { studentInfo } = state.course;\r\n    return {\r\n        studentInfo\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { showDialog }\r\n)(Sidebar);","import React, { Component } from 'react';\r\nimport { Modal, Button } from 'antd';\r\nimport { connect } from 'react-redux';\r\nimport { setCookie } from '../../../../utils/common';\r\n\r\nimport { showDialog, hideDialog, setStudent } from '../../../../redux/actions';\r\n// import { format } from '../../../../utils/common';\r\nimport './Dialog.less';\r\n\r\nclass Dialog extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false,\r\n            students: []\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        let students = JSON.parse(localStorage.getItem('userInfo')).subUserInfoVoList;\r\n        this.setState({\r\n            students\r\n        });\r\n    }\r\n\r\n    handleOk = e => {\r\n\r\n    }\r\n\r\n    /**\r\n     * 点击学生信息后  将当前信息同步到当前学生 同时调用该学生的信息 去查找课表\r\n     * \r\n     */\r\n    handleStudentInfo = item => {\r\n        if (!item.select) {\r\n            this.props.handleDialogSwitchStudent(item.userId);\r\n        }\r\n        // 排他\r\n        this.state.students.map(students => {\r\n            students.select = false;\r\n            if (item.userId === students.userId) {\r\n                students.select = true;\r\n            }\r\n        });\r\n\r\n\r\n\r\n        let userInfo = JSON.parse(JSON.stringify(this.props.userInfo));\r\n        userInfo.subUserInfoVoList = JSON.parse(JSON.stringify(this.state.students));\r\n\r\n        this.props.setStudent({ studentInfo: JSON.parse(JSON.stringify(this.state.students)) });\r\n        //  写入cookie 和 localstorage\r\n        setCookie('userInfo', encodeURI(JSON.stringify(userInfo)), 30);\r\n        localStorage.setItem('userInfo', JSON.stringify(userInfo));\r\n\r\n        // 重新登录\r\n        this.handleLogin(item);\r\n\r\n        // 关闭弹窗\r\n        this.props.hideDialog({ status: false });\r\n\r\n    }\r\n\r\n    /**\r\n     * 处理切换学生后，重新登录\r\n     */\r\n    handleLogin = item => {\r\n        window.WCRClassRoom.setUser('');\r\n        let params = {\r\n            id: item.userId,\r\n            name: item.userName,\r\n            password: '0',\r\n            token: this.props.userInfo.loginToken,\r\n            avatar: 'http://snsimg.ztjystore.cn/ztnew/ad/img/2019/07/05/1562295571719403.png',\r\n            mobile: item.mobile || 0,\r\n            type: 'student'\r\n        };\r\n        window.WCRClassRoom.setUser(params);\r\n    }\r\n\r\n    /**\r\n     * 处理性别   // 1 男 2女\r\n     */\r\n    handleGender = (item) => {\r\n        if (item.gender === 1) {\r\n            return 'http://snsimg.ztjystore.cn/1562303034TyAFquWFiu';\r\n        } else if (item.gender === 2) {\r\n            return 'http://snsimg.ztjystore.cn/ztnew/ad/img/2019/07/05/1562291591660101.jpg?imageView2/2/w/720';\r\n        }\r\n        return 'http://snsimg.ztjystore.cn/article/2019/07/05/1562281563183957.jpg?imageView2/2/w/720';\r\n    }\r\n\r\n    handleCancel = e => {\r\n        this.props.hideDialog({ status: false });\r\n    }\r\n    render () {\r\n        // let { props } = props.userInfo\r\n        return (\r\n            <div>\r\n                <Modal\r\n                    visible={this.props.status}\r\n                    title='切换学生'\r\n                    onOk={this.handleOk}\r\n                    onCancel={this.handleCancel}\r\n                    width='50%'\r\n                    footer={null}\r\n                >\r\n                    <div className='student'>\r\n                        {\r\n                            this.state.students.map((item, index) => {\r\n                                return <div key={index} className='student-item' onClick={() => this.handleStudentInfo(item)}>\r\n                                    <div className='student-item-avatar' style={{ 'background': `url(${this.handleGender(item)}) no-repeat` }}></div>\r\n                                    <div className='student-item-name'>{item.userName}</div>\r\n                                    {\r\n                                        item.select && <div className='student-item-icon'>\r\n                                            当前\r\n                                        </div>\r\n                                    }\r\n                                </div>;\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                </Modal >\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    let { status } = state.course;\r\n    return {\r\n        status\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    { showDialog, hideDialog, setStudent }\r\n)(Dialog);","// eslint-disable-next-line no-unused-vars\r\nimport React, { Fragment, Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Message } from 'antd';\r\n\r\nimport { format, arrayFindTo } from '../../../../utils/common';\r\nimport { CourseApi } from '../../../../api/index';\r\nimport './CourseList.less';\r\n\r\nfunction CourseHeader () {\r\n    return (\r\n        <Fragment>\r\n            <div className='course-header flex-center'>\r\n                我的课程\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nfunction ListItem (props) {\r\n    let { courseData = {}, userInfo, clearInterval } = props;\r\n    /**\r\n     * 返回教室类型\r\n     * @param {number | string} scenario 区分教室类型 0 1v1  7 小班课  2 大班课\r\n     */\r\n    function handleScenario (scenario) {\r\n        switch (scenario) {\r\n            case 1:\r\n                return '一对一';\r\n            case 2:\r\n                return '小班课';\r\n            case 3:\r\n                return '大班课';\r\n            case 4:\r\n                return '广播课';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 映射表\r\n     * @param {number} status\t\r\n     * @param {string} type\r\n     */\r\n    function handleCourseBadge (status, type) {\r\n        let defaultData = {\r\n            // 直播间状态1 未开课 2 开课中 3 已结课 4 无效 5 已失效\r\n            text: {\r\n                '1': '待上课',\r\n                '2': '开课中',\r\n                '3': '已下课',\r\n                '4': '无效',\r\n                '5': '已失效',\r\n            },\r\n            color: {\r\n                '3': '#e2e2e2',\r\n                '3': '#e2e2e2',\r\n                '5': '#e2e2e2',\r\n                '1': '#a6d4f5',\r\n                '2': '#a6d4f5'\r\n            },\r\n            button: {\r\n                '1': '进入教室',\r\n                '2': '进入教室',\r\n                '3': '查看回放',\r\n                '4': '无效',\r\n                '5': '已失效',\r\n            },\r\n            // 设置班级映射关系   直播间类型    1 1v1，2 小班课，3 大班课，4 广播课\r\n            type: {\r\n                1: '0',\r\n                2: '7',\r\n                3: '2',\r\n            },\r\n            // 直播间状态1 未开课 2 开课中 3 已结课 4 无效 5 已失效\r\n            courseStatus: {\r\n                1: 1,\r\n                2: 2,\r\n                3: 3,\r\n                4: -1,\r\n                5: 4\r\n\r\n            }\r\n        };\r\n        return defaultData[type][status];\r\n    }\r\n    /**\r\n     * 点击进入教室 or 查看回放  \r\n     * 直播间状态 1 未开课 2 开课中 3 已结课 4 无效 5 已失效\r\n     * @param {*} item 当前课次集合\r\n     */\r\n    function handleEntryClass (item) {\r\n        // 1 未开课 2 开课中 3 已结课 4 无效 5 已失效\r\n        if (item.status === 1 || item.status === 2 || item.status === 3) {\r\n            let params = {\r\n                institutionId: 1014,\r\n                id: item.id,\r\n                title: item.title,\r\n                scenario: handleCourseBadge(item.classType, 'type'),\r\n                startTime: item.startTime,\r\n                endTime: item.endTime,\r\n                status: handleCourseBadge(item.status, 'courseStatus'),\r\n                // status: 1,\r\n                teacher_name: item.teacher.userName,\r\n                teacher_id: item.teacher.id,\r\n                /** 进入教室之后默认打开的课件地址\r\n                 *  老师端必须配置，为进教室后默认打开的课件\r\n                    学生端可以通过配置此参数，在开始上课前打开一个log页或欢迎页之类的\r\n                 *  */\r\n                lesson_slide_url: item.broadcastingInfo.lessonSlideUrl,\r\n                // 课件备用地址\r\n                lesson_slide_backup_url: item.broadcastingInfo.lessonSlideBackupUrl,\r\n\r\n            };\r\n\r\n            // 当前是否已上过课 二次进入\r\n            if (item.actualStartTime) {\r\n                params.actualStartTime = item.actualStartTime;\r\n            }\r\n\r\n            // 大班课班型特有字段，其它班型不传此参数\r\n            if (item.classType === 3) {\r\n                // 是否连麦\r\n                params.needLianMai = 1;\r\n                params.record_mode = 4;\r\n            }\r\n\r\n            // 小班课传递 student字段\r\n            if (item.classType === 2) {\r\n                params.students = [];\r\n                item.broadcastingInfo.students.forEach(students => {\r\n                    params.students.push({\r\n                        id: students.id,\r\n                        name: students.userName,\r\n                        avatar: students.avatar,\r\n                    });\r\n                });\r\n            }\r\n            // 用户信息\r\n            let userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n            let userInfoParam = {\r\n                token: userInfo.loginToken\r\n            };\r\n            if (userInfo.subUserInfoVoList.length > 0) {\r\n                userInfoParam.subUserId = arrayFindTo(userInfo.subUserInfoVoList, 'select', true).userId;\r\n            } else {\r\n                userInfoParam.subUserId = userInfo.userId;\r\n            }\r\n            console.log(JSON.stringify(userInfoParam));\r\n            // 进入教室  \r\n            WCRClassRoom.joinClassRoom(JSON.stringify(params), (result) => {\r\n                // 回调函数\r\n                afterJoinClassroomCallback(result, item, userInfoParam);\r\n            });\r\n        }\r\n        Message.warning(`该课程${已失效}`);\r\n\r\n    }\r\n\r\n    /**\r\n     * 点击开始上课时间回调客户端\r\n     * @param {object} options\r\n     * options.status 调用自己服务端接口是否成功\r\n     * options.lesson 课程id\r\n     * options.actual_time 第一次上课时间\r\n     * options.server_time 每次服务器响应时间\r\n     * notify  调用客户端对应方法     startClass 点击上课    endClass  结束上课\r\n     */\r\n    function handleClientCallback (options = {}) {\r\n        let { status, lesson, actual_time, server_time, notify } = options;\r\n        //以下是模拟commonNotifyCallback回调\r\n\r\n        let params = {\r\n            notify,\r\n            body: {\r\n                status\r\n            }\r\n        };\r\n\r\n        // 点击上课按钮回调\r\n        if (notify === 'startClass') {\r\n            params[\"body\"]['data'] = {\r\n                //server_time - actual_time用来计算展示在进入教室后开始已经上课时长。\r\n                lesson,\r\n                actual_time,\r\n                server_time\r\n            };\r\n        }\r\n\r\n        // 点击下课按钮回调\r\n        if (notify === 'endClass') {\r\n            params[\"body\"]['data'] = {\r\n                lesson\r\n            };\r\n        }\r\n        // 统一调用\r\n        window.WCRClassRoom.commonNotifyCallback(0, params);\r\n\r\n    }\r\n\r\n    /**\r\n     * 客户端回调js\r\n     * @param {*} content.notify    客户端回调通知类型  \r\n     * @param {*} content.body      客户端回调参数\r\n     */\r\n    function afterJoinClassroomCallback (content, course, userInfoParam) {\r\n\r\n        if (content[\"notify\"] === \"startClass\") {\r\n            window.WCRClassRoom.web_log(JSON.stringify(content));\r\n            // 清除定时器\r\n            console.log('点击上课按钮');\r\n            console.log(userInfoParam.subUserId);\r\n            let params = {\r\n                token: userInfoParam.token,\r\n                subUserId: userInfoParam.subUserId,\r\n                notify: 'startClass',\r\n                data: JSON.stringify(content['body'])\r\n            };\r\n            CourseApi.sendStudioCallback('calendar', params).then(res => {\r\n                handleClientCallback({\r\n                    status: 1,\r\n                    lesson: course.id,\r\n                    actual_time: (course.actualStartTime ? format(course.actualStartTime, 'yyyy-MM-dd hh:mm:ss') : format(res.systemDate, 'yyyy-MM-dd hh:mm:ss')),\r\n                    server_time: format(res.systemDate, 'yyyy-MM-dd hh:mm:ss'),\r\n                    notify: 'startClass'\r\n                });\r\n                console.log({\r\n                    status: 1,\r\n                    lesson: course.id,\r\n                    actual_time: (course.actualStartTime ? format(course.actualStartTime, 'yyyy-MM-dd hh:mm:ss') : format(res.systemDate, 'yyyy-MM-dd hh:mm:ss')),\r\n                    server_time: format(res.systemDate, 'yyyy-MM-dd hh:mm:ss'),\r\n                    notify: 'startClass',\r\n                    time: course.actualStartTime\r\n                }, '--------');\r\n            }).catch(err => {\r\n                handleClientCallback({\r\n                    status: 2,\r\n                    lesson: course.id,\r\n                    actual_time: (course.actualStartTime ? format(course.actualStartTime, 'yyyy-MM-dd hh:mm:ss') : format(res.systemDate, 'yyyy-MM-dd hh:mm:ss')),\r\n                    server_time: format(res.systemDate, 'yyyy-MM-dd hh:mm:ss'),\r\n                    notify: 'startClass'\r\n                });\r\n            });\r\n        } else if (content[\"notify\"] === \"endClass\") {\r\n            WCRClassRoom.web_log(JSON.stringify(content));\r\n            console.log('点击下课按钮');\r\n            let params = {\r\n                token: userInfoParam.token,\r\n                subUserId: userInfoParam.subUserId,\r\n                notify: 'endClass',\r\n                data: JSON.stringify(content['body'])\r\n            };\r\n            CourseApi.sendStudioCallback('calendar', params).then(res => {\r\n                handleClientCallback({\r\n                    status: 1,\r\n                    lesson: course.id,\r\n                    notify: 'endClass'\r\n                });\r\n            }).catch(err => {\r\n                handleClientCallback({\r\n                    status: 2,\r\n                    lesson: course.id,\r\n                    notify: 'endClass'\r\n                });\r\n            });\r\n        } else if (content[\"notify\"] === \"enterClassRoom\") {\r\n            clearInterval();\r\n            console.log('进入教室');\r\n            //进入教室的回调，课表页收到此回调后，可以将类似loading的过程停止\r\n            WCRClassRoom.web_log(JSON.stringify(content));\r\n            //content 的定义为：\r\n            /*{\r\n              \"notify\": \"enterClassRoom\",\r\n              \"body\": {\r\n                  \"room_id\": \"12345 \",\r\n                  \"userid\": \"20160401\"\r\n               }\r\n            }*/\r\n        } else if (content[\"notify\"] === \"leaveClassRoom\") {\r\n            WCRClassRoom.web_log(JSON.stringify(content));\r\n            window.webAdapter.reload();\r\n            console.log('离开教室');\r\n        } else if (content[\"notify\"] === \"rewardinfo\") {\r\n            // 奖励\r\n            console.log(JSON.parse(JSON.stringify(content)));\r\n        }\r\n    }\r\n\r\n    if (Object.keys(courseData).length < 1) {\r\n        return (\r\n            <Fragment>\r\n                <div className='no-data'>暂无课程</div>\r\n            </Fragment>\r\n        );\r\n    }\r\n    return (\r\n        <ul className='list-item hide-scroll'>\r\n            {\r\n                // eslint-disable-next-line react/prop-types\r\n                courseData.courseList.map(item => (\r\n                    <li key={item.id}>\r\n                        <p className='list-item-title'>{item.title}</p>\r\n                        <p className='list-item-type'>{handleScenario(item.classType)}&nbsp;&nbsp;{format(+new Date(item.startTime.replace(/-/g, '/')), 'hh:mm')}-{format(+new Date(item.endTime.replace(/-/g, '/')), 'hh:mm')}</p>\r\n                        <p className='list-item-name'>{item.teacher.userName}</p>\r\n                        <div className='list-item-status' style={{ backgroundColor: handleCourseBadge(item.status, 'color') }}>{handleCourseBadge(item.status, 'text')}</div>\r\n                        <dir className='list-item-button'>\r\n                            <button onClick={() => handleEntryClass(item)}>{handleCourseBadge(item.status, 'button')}</button>\r\n                        </dir>\r\n                    </li>\r\n                ))\r\n            }\r\n        </ul>\r\n    );\r\n}\r\n\r\nclass CourseList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render () {\r\n        let { courseData, userInfo, clearInterval } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <CourseHeader userInfo={userInfo}></CourseHeader>\r\n                <ListItem userInfo={userInfo} clearInterval={clearInterval} courseData={courseData}></ListItem>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    let { courseData } = state.course;\r\n\r\n    return {\r\n        courseData\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    null\r\n)(CourseList);","import React, { Component, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { format, arrayFind, arrayFindTo } from '../../../utils/common';\r\nimport { sendCourseDetail, setStudent, awaitCourseList, setUserInfo } from '../../../redux/actions';\r\nimport SmallCaleandar from '../../../components/page/broadcast/course/SmallCaleandar';\r\nimport Sidebar from '../../../components/page/broadcast/course/Sidebar';\r\nimport Dialog from '../../../components/page/broadcast/course/Dialog';\r\nimport CourseList from '../../../components/page/broadcast/course/CourseList';\r\nimport { CourseApi } from '../../../api/index';\r\nimport './course.less';\r\n/**\r\n * 计算开始年月日  和 结束年月日\r\n * @param {*} type 需要开始时间 还是结束时间\r\n */\r\nfunction computedDate (date, type) {\r\n    let nowDate = new Date(date);\r\n    let month = nowDate.getMonth() + 1;\r\n    let year = nowDate.getFullYear();\r\n    let day = 20;\r\n    if (type === 'startDate') {\r\n        --month;\r\n        if (month === 0) {\r\n            month = 12;\r\n            --year;\r\n        }\r\n    } else {\r\n        ++month;\r\n        day = 10;\r\n        if (month === 13) {\r\n            month = 1;\r\n            ++year;\r\n        }\r\n    }\r\n    return `${year}-${month < 10 ? '0' + month : month}-${day}`;\r\n}\r\n\r\n\r\nclass Course extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            courseData: [],\r\n            currentDate: new Date(),\r\n            interval: null,\r\n            yearMonth: format(+new Date(), 'yyyy-MM'),\r\n            changeDate: format(+new Date(), 'yyyy-MM-dd'),\r\n            studentId: ''\r\n        };\r\n        // 用户个人信息 头像 名称展示\r\n        if (this.props.userInfo.subUserInfoVoList.length > 0) {\r\n            this.props.setStudent({ studentInfo: this.props.userInfo.subUserInfoVoList });\r\n        } else {\r\n            this.props.setStudent({ studentInfo: [this.props.userInfo] });\r\n        }\r\n    }\r\n\r\n    componentWillMount () {\r\n        if (!this.props.courseListStore) {\r\n            this.clientRequest();\r\n            this.setState({\r\n                courseData: this.props.courseListStore\r\n            });\r\n        }\r\n    }\r\n\r\n    componentDidMount () {\r\n        console.log(this.props.courseListStore);\r\n        console.log(this.props.userInfo, '2');\r\n        window.resizeTo(1080, 650);\r\n        this.handleUserId();\r\n        // this.checkTodayCourse(+new Date(this.state.currentDate));\r\n        this.setState({\r\n            // 刷新接口调通后 使用setTimeout\r\n            // interval: setTimeout(() => {\r\n            //     window.webAdapter.reload();\r\n            // }, 60000)\r\n        });\r\n    }\r\n\r\n    clientRequest = () => {\r\n        let { userInfo } = this.props;\r\n        let params = {\r\n            token: userInfo.loginToken,\r\n            startDate: computedDate(new Date(), 'startDate'),\r\n            endDate: computedDate(new Date(), 'endDate'),\r\n        };\r\n        if (userInfo.subUserInfoVoList.length > 0) {\r\n            params.subUserId = arrayFindTo(userInfo.subUserInfoVoList, 'select', true).userId;\r\n        } else {\r\n            params.subUserId = userInfo.userId;\r\n        }\r\n        this.props.awaitCourseList(params);\r\n    }\r\n\r\n    // 清除自动请求定时器\r\n    clearInterval = e => {\r\n        this.setState(state => {\r\n            clearTimeout(state.interval);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 处理userId\r\n     */\r\n    handleUserId = e => {\r\n        if (this.props.userInfo.subUserInfoVoList.length > 0) {\r\n            this.getCourseList(this.state.studentId || arrayFindTo(this.props.userInfo.subUserInfoVoList, 'select', true).userId);\r\n        } else {\r\n            this.getCourseList(this.props.userInfo.userId);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 选择日期时触发\r\n     * @param {string} date  拼接的年月\r\n     */\r\n    changeDate = date => {\r\n        let changeDate = `${date.year()}-${(date.month() + 1) < 10 ? '0' + (date.month() + 1) : date.month() + 1}-${date.date() < 10 ? '0' + date.date() : date.date()}`;\r\n        let yearMonth = `${date.year()}-${(date.month() + 1) < 10 ? '0' + (date.month() + 1) : date.month() + 1}`;\r\n        this.setState((state) => {\r\n            state.currentDate = yearMonth;\r\n            state.yearMonth = yearMonth;\r\n            state.changeDate = changeDate;\r\n            this.handleUserId();\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n    * 获取课程列表\r\n    */\r\n    getCourseList = (userId) => {\r\n        let params = {\r\n            token: this.props.userInfo.loginToken,\r\n            subUserId: userId,\r\n            startDate: computedDate(this.state.yearMonth, 'startDate'),\r\n            endDate: computedDate(this.state.yearMonth, 'endDate')\r\n        };\r\n        if (this.props.userInfo.subUserInfoVoList.length > 0) {\r\n            params.subUserId = userId;\r\n        }\r\n        CourseApi.getList('calendar', params).then(res => {\r\n            this.setState({\r\n                courseData: res.calendarList\r\n            });\r\n            this.checkTodayCourse(+new Date(this.state.changeDate));\r\n        });\r\n    }\r\n\r\n    /**\r\n    * dialog 组件触发\r\n    * \r\n    */\r\n    handleDialogSwitchStudent = userId => {\r\n        this.setState({\r\n            studentId: userId\r\n        });\r\n        this.getCourseList(userId);\r\n    }\r\n\r\n    /**\r\n    * 检查当前日期是否有课\r\n    * @param {number} nowDate 时间戳\r\n    */\r\n    checkTodayCourse = (nowDate) => {\r\n        let today = format(nowDate, 'yyyy-MM-dd');\r\n        console.log(1);\r\n        this.props.sendCourseDetail({\r\n            courseData: (arrayFind(this.state.courseData, 'date', today) || {})\r\n        });\r\n\r\n    }\r\n\r\n    /**\r\n     * 显示课程\r\n     */\r\n    showLesson = () => {\r\n        let { courseDataStore } = this.props;\r\n        let info = {\r\n            lesson: 0,\r\n            lessonLength: 0\r\n        };\r\n        if (Object.keys(courseDataStore).length < 1) {\r\n            return info;\r\n        }\r\n        info.lesson = courseDataStore.courseList.length;\r\n        info.lessonLength = courseDataStore.courseList.filter(item => (item.status !== 1 && item.status !== 2)).length;\r\n        return info;\r\n    }\r\n\r\n    render () {\r\n        let { userInfo } = this.props;\r\n        return (\r\n            <Fragment>\r\n                <div className='content-layout'>\r\n                    {/* 侧边栏 个人信息 */}\r\n                    <Sidebar userInfo={userInfo}></Sidebar>\r\n                    <div className='content-layout-right flex-center'>\r\n                        <div className='content-layout-right-box'>\r\n                            <div className='content-layout-right-caleandar'>\r\n                                <SmallCaleandar changeDate={this.changeDate} courseData={this.state.courseData}></SmallCaleandar>\r\n                            </div>\r\n                            <div className='content-layout-right-course'>\r\n                                <CourseList clearInterval={this.clearInterval} userInfo={userInfo}></CourseList>\r\n                            </div>\r\n                        </div>\r\n                        <div className='content-layout-right-carryout'>共{this.showLesson().lesson}节课 | 完成{this.showLesson().lessonLength}节</div>\r\n                    </div>\r\n                    {/* <Dialog handleDialogSwitchStudent={this.handleDialogSwitchStudent} userInfo={userInfo}></Dialog> */}\r\n                </div>\r\n            </Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = state => {\r\n    let { courseList, courseData } = state.course;\r\n    let { userInfo } = state.login;\r\n    return {\r\n        courseDataStore: courseData,\r\n        courseListStore: courseList,\r\n        userInfo\r\n    };\r\n};\r\n\r\n\r\nlet courseComponent = connect(\r\n    mapStateToProps,\r\n    { sendCourseDetail, setStudent, setUserInfo }\r\n)(Course);\r\n\r\ncourseComponent.getInintalProps = (store, cookie) => {\r\n    let userInfo = JSON.parse(cookie.userInfo);\r\n    console.log(typeof userInfo, 'router----------------------');\r\n    console.log(userInfo, 'router----------------------');\r\n    // 写入store\r\n    store.dispatch(setUserInfo({ userInfo }));\r\n    let params = {\r\n        token: userInfo.loginToken,\r\n        startDate: computedDate(new Date(), 'startDate'),\r\n        endDate: computedDate(new Date(), 'endDate'),\r\n    };\r\n    if (userInfo.subUserInfoVoList.length > 0) {\r\n        params.subUserId = arrayFindTo(userInfo.subUserInfoVoList, 'select', true).userId;\r\n    } else {\r\n        params.subUserId = userInfo.userId;\r\n    }\r\n    console.log(params, '----------------2');\r\n    return store.dispatch(awaitCourseList(params));\r\n};\r\n\r\nexport default courseComponent;","// import ImportComponent from '../component/common/ImportComponent'\r\n// let HomeDynmic = ImportComponent(import('../src/Home'))\r\n// let LoginDynmic = ImportComponent(import('../src/Login'))\r\n\r\nimport Login from '../src/broadcast/login';\r\nimport Course from '../src/broadcast/course';\r\n\r\n// async function a () {\r\n//     debugger\r\n//     let val = await (import('../src/Home'))\r\n//     console.log(val(), '222222222222222')\r\n// }\r\n\r\n// a()\r\n\r\n// 按需引入问题？？？\r\n\r\n// export let clientRoute = [\r\n//     {\r\n//         path: '/',\r\n//         component: HomeDynmic,\r\n//         exact: true,\r\n//         key: 'Home',\r\n//         // loadData: Home.getInintalProps\r\n//     },\r\n//     {\r\n//         path: '/login',\r\n//         component: LoginDynmic,\r\n//         key: 'login',\r\n//         exact: true,\r\n//         // loadData: Login.getInintalProps\r\n//     }\r\n// ]\r\n\r\nexport default [\r\n    {\r\n        path: '/',\r\n        component: Login,\r\n        exact: true,\r\n        key: 'Home',\r\n    },\r\n    {\r\n        path: '/h5/live/broadcast/login',\r\n        component: Login,\r\n        key: 'login',\r\n        exact: true,\r\n        // loadData: Login.getInintalProps\r\n    },\r\n    {\r\n        path: '/h5/live/broadcast/course',\r\n        component: Course,\r\n        key: 'course',\r\n        exact: true,\r\n        loadData: Course.getInintalProps\r\n    }\r\n];","import React, { Fragment } from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport clientRoute from './routes/config';\r\n\r\nexport default function () {\r\n    return (\r\n        <Fragment>\r\n            {\r\n                clientRoute.map(routes => (\r\n                    <Route {...routes}></Route>\r\n                ))\r\n            }\r\n        </Fragment>\r\n    );\r\n}","import { SEND_COURSE_DETAIL, SHOW_DIALOG, HIDE_DIALOG, SELECT_STUDENT, COURSE_LIST } from '../actionTypes';\r\n\r\n// 定义store 状态\r\nlet initialState = {\r\n    courseData: {},\r\n    status: false,\r\n    studentInfo: {},\r\n    courseList: {}\r\n};\r\n\r\nexport default function (state = initialState, actions) {\r\n    switch (actions.type) {\r\n        case SEND_COURSE_DETAIL:\r\n            let { payload } = actions;\r\n            return {\r\n                ...state,\r\n                ...payload\r\n            };\r\n        case SHOW_DIALOG:\r\n            return {\r\n                ...state,\r\n                ...actions.payload\r\n            };\r\n        case HIDE_DIALOG:\r\n            return {\r\n                ...state,\r\n                ...actions.payload\r\n            };\r\n        case SELECT_STUDENT:\r\n            return {\r\n                ...state,\r\n                ...actions.payload\r\n            };\r\n        case COURSE_LIST:\r\n            return {\r\n                ...state,\r\n                ...actions.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport { LOGIN, TEST } from '../actionTypes';\r\n\r\nlet initialState = {\r\n    userInfo: null,\r\n    list: []\r\n};\r\n\r\n\r\nexport default function (state = initialState, actions) {\r\n    switch (actions.type) {\r\n        case LOGIN:\r\n            // eslint-disable-next-line no-case-declarations\r\n            let { payload } = actions;\r\n            return {\r\n                ...state,\r\n                ...(actions.payload)\r\n            };\r\n        case TEST:\r\n            return {\r\n                ...state,\r\n                ...(actions.payload)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\n\r\nimport course from './course';\r\nimport login from './login';\r\n\r\n// 整个reducer\r\nexport default combineReducers({ course, login });\r\n","import React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport Router from '../route';\r\n\r\nimport { createClientStore } from '../redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './App.css';\r\nimport '../assets/css/reset.less';\r\nconst App = () => {\r\n    return (\r\n        <Provider store={createClientStore()}>\r\n            <BrowserRouter>\r\n                <Router></Router>\r\n            </BrowserRouter>\r\n        </Provider>\r\n\r\n    );\r\n};\r\nexport default App;","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport Reducer from './reducer/index';\r\n\r\n// 返回不同实例store\r\nexport function createClientStore () {\r\n    let defaultState = window._REACT_SOTRE ? window._REACT_SOTRE : {};\r\n    return createStore(Reducer, defaultState, applyMiddleware(thunk));\r\n}\r\n\r\nexport function createServerStore () {\r\n    return createStore(Reducer, applyMiddleware(thunk));\r\n}\r\n","//client/index. js\r\nimport React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport App from './src/App';\r\n\r\n// 服务端渲染使用的api 与render一样  只\r\nReactDom.hydrate(<App />, document.getElementById('root'));\r\n\r\nif (module.hot) {\r\n    module.hot.accept();\r\n\r\n}"],"sourceRoot":""}